<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Calculadora contratual Athon OFF." />
  <title>Athon OFF</title>
  <link rel="shortcut icon" href="../img/OIP.jpg" type="image/png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Manrope", "system-ui", "sans-serif"]
          },
          colors: {
            athon: {
              950: "#050f1d",
              900: "#081a2d",
              800: "#0f2a46",
              700: "#1f4d78",
              500: "#2ca3d6",
              300: "#8ddcf2"
            }
          },
          boxShadow: {
            panel: "0 24px 48px rgba(2, 10, 24, 0.35)"
          }
        }
      }
    };
  </script>
  <link rel="stylesheet" href="estilo.css" />
</head>
<body class="min-h-screen bg-athon-950 text-slate-100 antialiased selection:bg-cyan-400/30">
  <div class="pointer-events-none fixed inset-0 -z-10 overflow-hidden">
    <div class="absolute -left-24 top-0 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl"></div>
    <div class="absolute right-0 top-1/3 h-80 w-80 rounded-full bg-sky-400/15 blur-3xl"></div>
    <div class="absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-athon-700/40 blur-3xl"></div>
  </div>

  <div class="container mx-auto w-full max-w-7xl px-4 py-6 sm:px-6">
    <header class="header mb-4">
      <div class="header-content rounded-2xl border border-white/10 bg-athon-900/70 px-4 py-3 shadow-panel backdrop-blur">
        <div class="header-branding">
          <img src="../img/OIP.jpg" alt="Athon" class="company-logo ring-2 ring-cyan-300/30" />
          <div class="brand-text">
            <div class="brand" id="brandTitle">Athon OFF</div>
          </div>
        </div>

        <div class="header-actions">
          <button class="date-range-toggle" id="svaPanelBtn" aria-haspopup="true" aria-expanded="false" title="Abrir SVAs">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
              <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"></path>
            </svg>
          </button>
          <button class="date-range-toggle" id="dateRangeBtn" aria-haspopup="true" aria-expanded="false" title="Abrir calendário">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
              <path d="M7 10h5v5H7z" fill="currentColor"></path>
              <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.2" fill="none"></rect>
              <path d="M16 2v4M8 2v4" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"></path>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <div class="date-range-panel" id="dateRangePanel" aria-hidden="true">
      <div class="dr-row">
        <label class="dr-label">De</label>
        <input id="drFrom" type="text" readonly placeholder="dd/mm/aaaa" />
      </div>
      <div class="dr-row">
        <label class="dr-label">Até</label>
        <input id="drTo" type="text" readonly placeholder="dd/mm/aaaa" />
      </div>
      <div class="dr-result" id="drResult" aria-live="polite">
        <div id="drDiffText">Diferença</div>
        <div id="drDiffCalc"></div>
        <div id="drTotalDays"></div>
      </div>
    </div>

    <div class="sva-panel" id="svaPanel" aria-hidden="true">
      <div class="sva-panel-head">
        <h3>SVAs</h3>
      </div>
      <div class="sva-list">
        <div class="sva-item">
          <span class="sva-name">R$ 14,90 - Telemedicina</span>
          <div class="sva-controls">
            <button type="button" class="sva-step" data-sva-step="-1" data-sva-name="Telemedicina">-</button>
            <input class="sva-quantity" data-price="14.90" data-sva-name="Telemedicina" type="number" min="0" step="1" value="0" />
            <button type="button" class="sva-step" data-sva-step="1" data-sva-name="Telemedicina">+</button>
          </div>
        </div>
        <div class="sva-item">
          <span class="sva-name">R$ 14,90 - WATCH TV</span>
          <div class="sva-controls">
            <button type="button" class="sva-step" data-sva-step="-1" data-sva-name="WATCH TV">-</button>
            <input class="sva-quantity" data-price="14.90" data-sva-name="WATCH TV" type="number" min="0" step="1" value="0" />
            <button type="button" class="sva-step" data-sva-step="1" data-sva-name="WATCH TV">+</button>
          </div>
        </div>
        <div class="sva-item">
          <span class="sva-name">R$ 19,90 - Watch + Telemedicina</span>
          <div class="sva-controls">
            <button type="button" class="sva-step" data-sva-step="-1" data-sva-name="Watch + Telemedicina">-</button>
            <input class="sva-quantity" data-price="19.90" data-sva-name="Watch + Telemedicina" type="number" min="0" step="1" value="0" />
            <button type="button" class="sva-step" data-sva-step="1" data-sva-name="Watch + Telemedicina">+</button>
          </div>
        </div>
        <div class="sva-item">
          <span class="sva-name">R$ 19,90 - MESH WIFI</span>
          <div class="sva-controls">
            <button type="button" class="sva-step" data-sva-step="-1" data-sva-name="Rede Mesh">-</button>
            <input class="sva-quantity" data-price="19.90" data-sva-name="Rede Mesh" type="number" min="0" step="1" value="0" />
            <button type="button" class="sva-step" data-sva-step="1" data-sva-name="Rede Mesh">+</button>
          </div>
        </div>
        <div class="sva-item">
          <span class="sva-name">R$ 29,90 - HBO Max</span>
          <div class="sva-controls">
            <button type="button" class="sva-step" data-sva-step="-1" data-sva-name="HBO Max">-</button>
            <input class="sva-quantity" data-price="29.90" data-sva-name="HBO Max" type="number" min="0" step="1" value="0" />
            <button type="button" class="sva-step" data-sva-step="1" data-sva-name="HBO Max">+</button>
          </div>
        </div>
      </div>
    </div>

    <main class="main-content" role="main">
      <section class="input-dashboards grid gap-4">
        <form id="calculator-form" onsubmit="return false;">
          <section class="form-card" aria-labelledby="dados-contrato">
            <h2 id="dados-contrato">Dados do Contrato</h2>
            <div class="form-group" id="group-planoBase">
              <label for="planoBase">Valor do Plano</label>
              <div class="input-currency-wrapper">
                <input id="planoBase" type="text" inputmode="numeric" placeholder="Ex: 149,90" autocomplete="off" aria-required="true" aria-describedby="error-planoBase" />
              </div>
              <p id="error-planoBase" class="error-feedback" role="alert">Obrigatório. Insira um valor maior que R$ 0,00.</p>
            </div>

            <div class="form-row">
              <div class="form-group" id="group-mesesFidelidadeRestantes">
                <label for="mesesFidelidadeRestantes">Meses Faltantes (Fidelidade)</label>
                <input id="mesesFidelidadeRestantes" type="number" min="0" max="24" step="1" placeholder="Ex: 7" aria-required="true" />
              </div>
              <div class="form-group" id="group-diasDeUso">
                <label for="diasDeUso">Proporcional de Dias Utilizados</label>
                <input id="diasDeUso" type="number" min="0" max="365" step="1" placeholder="Ex: 15" aria-required="true" />
              </div>
            </div>
          </section>
        </form>

        <form id="custos-form" onsubmit="return false;">
          <section class="form-card" aria-labelledby="custos-adicionais">
            <h2 id="custos-adicionais">Custos Adicionais</h2>
            <div class="form-group" id="group-custoAdicional">
              <label for="custoAdicionalInput">Outros Custos</label>
              <div class="input-currency-wrapper">
                <input id="custoAdicionalInput" type="text" inputmode="numeric" placeholder="Ex: 50,00" autocomplete="off" aria-required="false" />
              </div>
              <br>
              <div class="form-group">
                <label for="custoEquipamento">Custo de Equipamento Não Devolvido</label>
                <select id="custoEquipamento" aria-label="Selecione o custo do equipamento não devolvido">
                  <option value="0">R$ 0,00 (Equipamento Devolvido)</option>
                  <option value="50">R$ 50,00 (Fonte)</option>
                  <option value="100">R$ 100,00 (TP-Link)</option>
                  <option value="200">R$ 200,00 (ONU)</option>
                  <option value="250">R$ 250,00 (ONU + Fonte)</option>
                  <option value="300">R$ 300,00 (ONU + Roteador)</option>
                  <option value="400">R$ 400,00 (ONT)</option>
                </select>
              </div>
              <br>
              <div class="form-group" id="group-mensalidadeDesconto">
                <label>Mensalidade com Desconto</label>
                <div class="flex-row">
                  <input id="descontoPercent" type="number" min="0" max="100" step="1" placeholder="Desconto % (ex: 20)" />
                  <input id="qtdMensalidadesDesconto" type="number" min="0" step="1" placeholder="Quantidade (ex: 3)" />
                  <button class="btn-icon" id="btnReset" type="button" aria-label="Limpar" title="Limpar">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="3 6 5 6 21 6"></polyline>
                      <path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"></path>
                      <path d="M10 11v6M14 11v6"></path>
                      <path d="M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"></path>
                    </svg>
                  </button>
                </div>
              </div>

            </div>
          </section>
        </form>

        <div class="utility-actions"></div>
      </section>

      <aside class="result-card" id="resultadoCard" aria-live="polite">
        <p class="result-header">Resumo</p>
        <div class="result-row"><span>Total de dias utilizados</span><span id="diasACobrar">0 dias</span></div>
        <div class="result-row"><span>Valor do plano</span><span id="valorMensalTotal">R$ 0,00</span></div>
        <div class="result-row"><span>Valor dos dias de uso</span><span id="proRata">R$ 0,00</span></div>
        <div class="result-row"><span>Multa rescisória</span><span id="multaFidelidade">R$ 0,00</span></div>
        <div class="result-row"><span>Outros</span><span id="custoAdicionalOut">R$ 0,00</span></div>
        <div class="result-row"><span>SVAs</span><span id="totalSva">R$ 0,00</span></div>
        <div class="result-row"><span>Equipamento não devolvido</span><span id="equipamento">R$ 0,00</span></div>
        <div class="result-row"><span>Mensalidade desconto</span><span id="multaMensalidadesDesconto">R$ 0,00</span></div>

        <div class="result-total">
          <div class="total-label-row">
            <span style="font-weight:900">TOTAL:</span>
            <div style="display:flex;flex-direction:column;align-items:flex-end;">
              <span id="totalMulta">R$ 0,00</span>
            </div>
          </div>

          <div class="copy-wrapper" style="margin-top:12px;">
            <button id="btnCopyResults" class="btn-copy" type="button" title="Copiar e baixar">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 5 17 10"></polyline>
                <line x1="12" y1="5" x2="12" y2="17"></line>
              </svg>
              <span class="btn-copy-label">Copiar</span>
            </button>
            <span id="copySuccessMessage" class="copy-success" style="margin-left:10px;">Copiado!</span>
          </div>
        </div>
      </aside>
    </main>
  </div>

  <script src="https://unpkg.com/imask"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
